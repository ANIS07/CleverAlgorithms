% Learning Classifier System

% The Clever Algorithms Project: http://www.CleverAlgorithms.com
% (c) Copyright 2010 Jason Brownlee. Some Rights Reserved. 
% This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 2.5 Australia License.

\documentclass[a4paper, 11pt]{article}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{url}
\usepackage[pdftex,breaklinks=true,colorlinks=true,urlcolor=blue,linkcolor=blue,citecolor=blue,]{hyperref}
\usepackage{geometry}
\usepackage[ruled, linesnumbered]{../algorithm2e}
\usepackage{listings} 
\usepackage{textcomp}
\ifx\pdfoutput\@undefined\usepackage[usenames,dvips]{color}
\else\usepackage[usenames,dvipsnames]{color}
\lstset{basicstyle=\footnotesize\ttfamily,numbers=left,numberstyle=\tiny,frame=single,columns=flexible,upquote=true,showstringspaces=false,tabsize=2,captionpos=b,breaklines=true,breakatwhitespace=true,keywordstyle=\color{blue},stringstyle=\color{ForestGreen}}
\geometry{verbose,a4paper,tmargin=25mm,bmargin=25mm,lmargin=25mm,rmargin=25mm}

% Dear template user: fill these in
\newcommand{\myreporttitle}{Learning Classifier System}
\newcommand{\myreportauthor}{Jason Brownlee}
\newcommand{\myreportemail}{jasonb@CleverAlgorithms.com}
\newcommand{\myreportwebsite}{http://www.CleverAlgorithms.com}
\newcommand{\myreportproject}{The Clever Algorithms Project\\\url{\myreportwebsite}}
\newcommand{\myreportdate}{20100411}
\newcommand{\myreportversion}{1}
\newcommand{\myreportlicense}{\copyright\ Copyright 2010 Jason Brownlee. Some Rights Reserved. This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 2.5 Australia License.}

% leave this alone, it's templated baby!
\title{{\myreporttitle}\footnote{\myreportlicense}}
\author{\myreportauthor\\{\myreportemail}\\\small\myreportproject}
\date{\today\\{\small{Technical Report: CA-TR-{\myreportdate}-\myreportversion}}}
\begin{document}
\maketitle

% write a summary sentence for each major section
\section*{Abstract} 
% project
The Clever Algorithms project aims to describe a large number of Artificial Intelligence algorithms in a complete, consistent, and centralized manner, to improve their general accessibility. 
% template
The project makes use of a standardized algorithm description template that uses well-defined topics that motivate the collection of specific and useful information about each algorithm described.
% report
This report describes the Learning Classifier System algorithm using the standardized template.

\begin{description}
	\item[Keywords:] {\small\texttt{Clever, Algorithms, Description, Optimization, Learning, Classifier, System}}
\end{description} 

\section{Introduction} 
\label{sec:intro}
% project
The Clever Algorithms project aims to describe a large number of algorithms from the fields of Computational Intelligence, Biologically Inspired Computation, and Metaheuristics in a complete, consistent and centralized manner \cite{Brownlee2010}.
% description
The project requires all algorithms to be described using a standardized template that includes a fixed number of sections, each of which is motivated by the presentation of specific information about the technique \cite{Brownlee2010a}.
% this report
This report describes the Learning Classifier System algorithm using the standardized template.

% Name
% The algorithm name defines the canonical name used to refer to the technique, in addition to common aliases, abbreviations, and acronyms. The name is used in terms of the heading and sub-headings of an algorithm description.
\section{Name} 
\label{sec:name}
% What is the canonical name and common aliases for a technique?
% What are the common abbreviations and acronyms for a technique?
% The heading and alternate headings for the algorithm description.
Learning Classifier System, LCS

% Taxonomy: Lineage and locality
% The algorithm taxonomy defines where a techniques fits into the field, both the specific subfields of Computational Intelligence and Biologically Inspired Computation as well as the broader field of Artificial Intelligence. The taxonomy also provides a context for determining the relation- ships between algorithms. The taxonomy may be described in terms of a series of relationship statements or pictorially as a venn diagram or a graph with hierarchical structure.
\section{Taxonomy}
\label{sec:taxonomy}
% To what fields of study does a technique belong?
The Learning Classifier System algorithm is both an instance of an Evolutionary Algorithm from the field of Evolutionary Computation and an instance of a Reinforcement Learning algorithm from Machine Learning.
% What are the closely related approaches to a technique?
The Learning Classifier System is a theoretical system with a number of implementations. Two streams of classifier that emerged are the Pittsburgh-style that seeks to optimize whole classifier, and the Michigan-style that optimize responsive rulesets. 
% common 
The Michigan-style Learning Classifier is the most common and is comprised of two versions: the ZCS (zeroth-level classifier system) and the XCS (accuracy-based classifier system).

% Strategy: Problem solving plan
% The strategy is an abstract description of the computational model. The strategy describes the information processing actions a technique shall take in order to achieve an objective. The strategy provides a logical separation between a computational realization (procedure) and a analogous system (metaphor). A given problem solving strategy may be realized as one of a number specific algorithms or problem solving systems. The strategy description is textual using information processing and algorithmic terminology.
\section{Strategy}
\label{sec:strategy}
% What is the information processing objective of a technique?
The objective of the Learning Classifier System algorithm is to optimize payoff (performance) based on its exposure to stimuli from its problem-specific  environment.
% What is a techniques plan of action?
This is achieved by managing credit assignment for those rules that prove useful and searching for new rules and new variations on rules using an evolutionary process.

% Procedure: Abstract computation
% The algorithmic procedure summarizes the specifics of realizing a strategy as a systemized and parameterized computation. It outlines how the algorithm is organized in terms of the data structures and representations. The procedure may be described in terms of software engineering and computer science artifacts such as pseudo code, design diagrams, and relevant mathematical equations.
\section{Procedure}
\label{sec:procedure}
% What are the data structures and representations used in a technique?
% actors
The actors of the system include detectors, messages, effectors, feedback, and classifiers. Detectors are used by the system to perceive the state of the environment. Messages is the discrete information passed from the detectors into the system as discrete information packets. The system performs information processing on messages, and messages may directly result in actions in the environment. Effectors control the actions of the system on and within the environment. In addition to the system actively perceiving via its detections, it may also receive directed feedback from the environment (payoff). Classifiers are condition-action rules that provides a filter for messages. If a message satisfies the conditional part of the classifier, the action of the classier triggers. Rules act as message processors.
% data
Messages are defined of length $k$ using a binary alphabet. A classifier is defined as a binary string with a ternary alphabet of ${1, 0, \#}$, where the $\#$ represents do not care (matching both a 1 or 0). 

% What is the computational recipe for a technique?
The processing loop for the Learning Classifier system is as follows: i) Messages from the environment are placed on the message list. ii) The conditions of each classifier are checked to see if they are satisfied by at least one message in the message list. iii) All classifiers that are satisfied participate in a competition, those that win post their action to the message list. iv) All messages directed to the effectors are executed (causing actions in the environment). v) All messages on the message list from the previous cycle are deleted (messages persist for a single cycle).
% algorithm
The algorithm may be described in terms of the main processing loop and two sub-algorithms: a reinforcement learning algorithm such as the bucket brigade algorithm or Q-learning, and a genetic algorithm for optimization of the system.
% presentated
Algorithm~\ref{alg:learning_classifier_system} provides a pseudo-code listing of the high-level processing loop of the Learning Classifier System, specifically the XCS as described by Butz and Wilson \cite{Butz2002a}. 

\begin{algorithm}[ht]
	\SetLine  

	% data
	\SetKwData{Population}{Population}
	\SetKwData{Environment}{env}
	\SetKwData{Input}{$Input_{t}$}
	\SetKwData{Matchset}{Matchset}
	\SetKwData{Prediction}{Prediction}
	\SetKwData{Action}{Action}
	\SetKwData{Actionset}{$ActionSet_{t}$}
	\SetKwData{Reward}{$Reward_{t}$}
	\SetKwData{Payoff}{$Payoff_{t}$}
	\SetKwData{LastActionset}{$ActionSet_{t-1}$}
	\SetKwData{LastInput}{$Input_{t-1}$}
	\SetKwData{LastReward}{$Reward_{t-1}$}

	% functions
	\SetKwFunction{StopCondition}{StopCondition}
	\SetKwFunction{InitializeEnvironment}{InitializeEnvironment}
	\SetKwFunction{InitializePopulation}{InitializePopulation}
	\SetKwFunction{GenerateMatchSet}{GenerateMatchSet}
	\SetKwFunction{GeneratePrediction}{GeneratePrediction}
	\SetKwFunction{SelectionAction}{SelectionAction}
	\SetKwFunction{GenerateActionSet}{GenerateActionSet}
	\SetKwFunction{ExecuteAction}{ExecuteAction}
	\SetKwFunction{CalculatePayoff}{CalculatePayoff}
	\SetKwFunction{PerformLearning}{PerformLearning}
	\SetKwFunction{RunGeneticAlgorithm}{RunGeneticAlgorithm}
	\SetKwFunction{LastStepOfTask}{LastStepOfTask}
  
	% I/O
	\KwIn{\Environment}		
	\KwOut{\Population}
  	% Algorithm
	
	\Environment $\leftarrow$ \InitializeEnvironment{\Environment}\;
	\Population $\leftarrow$ \InitializePopulation{}\;
	\LastActionset $\leftarrow$ $0$\;
	\LastInput $\leftarrow$ $0$\;
	\LastReward $\leftarrow$ $0$\;
		
	\While{$\neg$\StopCondition{}}{
		\Input $\leftarrow$ \Environment\;
		\Matchset $\leftarrow$ \GenerateMatchSet{\Population, \Input}\;
		\Prediction $\leftarrow$ \GeneratePrediction{\Matchset}\;
		\Action $\leftarrow$ \SelectionAction{\Prediction}\;
		\Actionset $\leftarrow$ \GenerateActionSet{\Action, \Matchset}\;
		\Reward $\leftarrow$ \ExecuteAction{\Action, \Environment}\;
		\If{\LastActionset $\neq$ $0$}{
			\Payoff $\leftarrow$ \CalculatePayoff{\LastReward, \Prediction}\;
			\PerformLearning{\LastActionset, \Payoff, \Population}\;
			\RunGeneticAlgorithm{\LastActionset, \LastInput, \Population}\;
		}
		
		\eIf{\LastStepOfTask{\Environment, \Action}}{
			\Payoff $\leftarrow$ \Reward\;
			\PerformLearning{\Actionset, \Payoff, \Population}\;
			\RunGeneticAlgorithm{\Actionset, \Input, \Population}\;
			\LastActionset $\leftarrow$ $0$\;
		}{
			\LastActionset $\leftarrow$ \Actionset\;
			\LastInput $\leftarrow$ \Input\;
			\LastReward $\leftarrow$ \Reward\;
		}
	}
	% end
	\caption{Pseudo Code for the Learning Classifier System algorithm.}
	\label{alg:learning_classifier_system}
\end{algorithm}


% Heuristics: Usage guidelines
% The heuristics element describe the commonsense, best practice, and demonstrated rules for applying and configuring a parameterized algorithm. The heuristics relate to the technical details of the techniques procedure and data structures for general classes of application (neither specific implementations not specific problem instances). The heuristics are described textually, such as a series of guidelines in a bullet-point structure.
\section{Heuristics}
\label{sec:heuristics}
% What are the suggested configurations for a technique?
% What are the guidelines for the application of a technique to a problem instance?
The majority of the heuristics in this section are specific to the XCS Learning Classifier System.

\begin{itemize}
	\item Learning Classifier Systems are suited for problems with the following characteristics: perpetually novel events with large amounts of noise, continual, and real-time requirements for action, implicitly or inexactly defined goals, and sparse payoff or reinforcement obtainable only through long sequences of tasks.
	\item The learning rate $\beta$ should be in the range $\in [0.1,0.2]$.
	\item The frequency of running the genetic algorithm $\theta_{GA}$ should be in the range $\in [25,50]$.
	
	
\end{itemize}

% The code description provides a minimal but functional version of the technique implemented with a programming language. The code description must be able to be typed into an appropriate computer, compiled or interpreted as need be, and provide a working execution of the technique. The technique implementation also includes a minimal problem instance to which it is applied, and both the problem and algorithm implementations are complete enough to demonstrate the techniques procedure. The description is presented as a programming source code listing.
\section{Code Listing}
\label{sec:code}
% How is a technique implemented as an executable program?
% How is a technique applied to a concrete problem instance?
Listing~\ref{learning_classifier_system} provides an example of the Learning Classifier System algorithm implemented in the Ruby Programming Language. 
% problem
The problem is an instance of a Boolean multiplexer called the 6-multiplexer. It can be described as a classification problem, where each of the $2^6$ patterns of bits is associated with a boolean class $\{1,0\}$. For this problem instance, the first two bits may be decoded as an address into the remaining four bits that specify the class (for example in 100010, `10' decode to the index of `2' in the remaining 4 bits making the class `1'). In propositional logic this may be described as $F=(\neg x_0) (\neg x_1) x_2 + (\neg x_0) x_1 x_3 + x_0 (\neg x_1) x_4 + x_0 x_1 x_5$. 
% algorithm
The algorithm is an instance of XCS based on the description provided by Butz and Wilson \cite{Butz2002a} with the parameters based on the application of XCS to Boolean multiplexer problems by Wilson \cite{Wilson1995, Wilson1998}.
% specifics
The population is grown as needed, and subsumption which would be appropriate for the Boolean multiplexer problem was not used for brevity. The multiplexer problem is a single step problem, so the complexities of delayed payoff were removed. A number of parameters were hard coded to recommended values, specifically: $\alpha=0.1, v=5, \delta=0.1$ and $P_{\#}=\frac{1}{3}$.

% the listing
\lstinputlisting[firstline=7,language=ruby,caption=Learning Classifier System algorithm in the Ruby Programming Language, label=learning_classifier_system]{../../src/algorithms/evolutionary/learning_classifier_system.rb}


% References: Deeper understanding
% The references element description includes a listing of both primary sources of information about the technique as well as useful introductory sources for novices to gain a deeper understanding of the theory and application of the technique. The description consists of hand-selected reference material including books, peer reviewed conference papers, journal articles, and potentially websites. A bullet-pointed structure is suggested.
\section{References}
\label{sec:references}
% What are the primary sources for a technique?
% What are the suggested reference sources for learning more about a technique?

% 
% Primary Sources
% 
\subsection{Primary Sources}
% seminal
Early ideas on the theory of Learning Classifier Systems were proposed by Holland \cite{Holland1976, Holland1977}, culminating in a standardized presentation a few years later \cite{Holland1980}.
% taxonomy
A number of implementations of the theoretical system were investigated, although a taxonomy of main approaches was proposed by De Jong \cite{Jong1988}: 1) Pittsburgh-style proposed by Smith \cite{Smith1980, Smith1983} and 2) Holland-style or Michigan-style Learning classifiers that are further comprised of the Zeroth-level classifier (ZCS) \cite{Wilson1994} and the accuracy-based classifier (XCS) \cite{Wilson1995}.

% 
% Learn More
% 
\subsection{Learn More}
% classical
Booker, Goldberg, and Holland provide a classical introduction to Learning Classifier Systems including an overview of the state of the field and the algorithm in detail \cite{Booker1989}. Wilson and Goldberg also provide a classical introduction and review of the approach, although take a more critical stance \cite{Wilson1989}.
% review
Holmes, et al. provide a contemporary review of the field focusing both on the approach and application areas to which the approach has been demonstrated successfully \cite{Holmes2002}.
% books
Lanzi, Stolzmann, and Wilson provide a seminal book in the field as a collection of papers covering the basic, advanced topics, and demonstration applications. A particular highlight from this book is the first paper that provides a concise description of Learning Classifier Systems by many leaders and major contributors to the field \cite{Holland2000}, providing rare insight. Another paper from this book by Lanzi and Riolo provides a detailed review of the development of the approach as it matured throughout the 1990s.
% other book
Bull and Kovacs a second book introductory book to the field focusing on the theory of the approach and its practical application \cite{Bull2005}.

% 
% Conclusions: What the reader or what thre author learned by completing this this report.
% 
\section{Conclusions}
\label{sec:conclusions}
% report
This report described the Learning Classifier System as a machine learning technique using both reinforcement learning and genetic algorithms. The content for this report based based on a previous work on the Learning Classifier System by this author \cite{Brownlee2007a}.

% 
% Contribute
% 
\section{Contribute}
\label{sec:contribute}
% simple
Found a typo in the content or a bug in the source code? 
% advanced 
Are you an expert in this technique and know some facts that could improve the algorithm description for all?
% incentive
Do you want to get that warm feeling from contributing to an open source project? 
Do you want to see your name as an acknowledgment in print?

%  ideal
Two pillars of this effort are i) that the best domain experts are people outside of the project, and ii) that this work is wrong by default. 
% advice
Please help to make this work less wrong by emailing the author `\myreportauthor' at \url{\myreportemail} or visit the project website at \url{\myreportwebsite}.

% bibliography
\bibliographystyle{plain}
\bibliography{../bibtex}

\end{document}
% EOF